cmake_minimum_required(VERSION 3.5)


#set(HOMEKIT_PATH
#    "/Users/dicode/Documents/matter_tests/esp-homekit-sdk" )


#set(EXTRA_COMPONENT_DIRS "${CMAKE_CURRENT_LIST_DIR}/components/esp-aws-iot/libraries/")


set(EXTRA_COMPONENT_DIRS 

"${CMAKE_CURRENT_LIST_DIR}/components/esp-aws-iot/libraries/"
#"${CMAKE_CURRENT_LIST_DIR}/components/zh_network"
#"${CMAKE_CURRENT_LIST_DIR}/components/zh_vector"
#"${CMAKE_CURRENT_LIST_DIR}/components/zh_espnow"
"${CMAKE_CURRENT_LIST_DIR}/components/wifi_prov_mgr"
#"${CMAKE_CURRENT_LIST_DIR}/components/protobuf-lib"

# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/esp_hap_core"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/esp_hap_apple_profiles"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/esp_hap_platform"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/hkdf-sha"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/mu_srp"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/json_generator"
# "${CMAKE_CURRENT_LIST_DIR}/components/homekit/json_parser"
 )

#set(EXTRA_COMPONENT_DIRS ${HOMEKIT_PATH}/components ${HOMEKIT_PATH}/components/homekit ${CMAKE_CURRENT_LIST_DIR}/components/esp-aws-iot/libraries/)
#include_directories(${HOMEKIT_PATH}/components/homekit/esp_hap_core/include ${HOMEKIT_PATH}/components/homekit/esp_hap_apple_profiles/include )
#set(EXTRA_COMPONENT_DIRS $ENV{IDF_PATH}/examples/common_components/protocol_examples_common)
# Read the content of version.txt
file(READ "${CMAKE_CURRENT_LIST_DIR}/version.txt" VERSION_STRING)
string(STRIP ${VERSION_STRING} VERSION_STRING)

# Set the PROJECT_VER variable using the content of version.txt
set(PROJECT_VER "${VERSION_STRING}")

# Set the PROJECT_VERU and PROJECT_PREF variables
set(PROJECT_VERU ${PROJECT_VER})
set(PROJECT_PREF "myproject")

# Replace dots with underscores for PROJECT_VERU
string(REPLACE "." "_" PROJECT_VERU ${PROJECT_VERU})

# Set the project name using the version and prefix
set(PROJECT_BIN "${PROJECT_PREF}_${PROJECT_VERU}")

include($ENV{IDF_PATH}/tools/cmake/project.cmake)
include_directories(BEFORE "${CMAKE_CURRENT_LIST_DIR}/main")
project("vcloudiofw_${PROJECT_VERU}")
